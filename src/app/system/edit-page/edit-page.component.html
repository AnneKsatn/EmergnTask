<div class="auth">
  <div class="auth-container">
    <div class="card">
      <h5 class="card-header text-center">Изменение данных</h5>
      <div class="auth-content">

        <div class="alert alert-{{message.type}}" *ngIf="message.text">
          {{message.text}}

        </div>


        <form [formGroup]="form" (ngSubmit)="onSubmit()">

          <div class="form-group" [ngClass]="{'has-error': form.get('email').invalid && form.get('email').touched}">
            <label for="email">Email</label>
            <input type="text" class="form-control underlined" id="email" placeholder="Введите email"
              formControlName="email">

            <span class="form-help-text" *ngIf="form.get('email').invalid && form.get('email').touched">
              <span *ngIf="form.get('email')['errors']['required']">Введите Email</span>
              <span *ngIf="form.get('email')['errors']['email']">Email не корректен</span>
              <span *ngIf="form.get('email')['errors']['emailExist']">Email уже зарегистрирован</span>
            </span>

          </div>

          <div class="form-group has-error"
            [ngClass]="{'has-error': form.get('login').invalid && form.get('login').touched}">
            <label for="login">Логин</label>
            <input type="text" class="form-control underlined" id="login" placeholder="Введите логин"
              formControlName="login">

            <span class="form-help-text" *ngIf="form.get('login').invalid && form.get('login').touched">
              <span *ngIf="form.get('login')['errors']['required']">Введите логин</span>
              <span *ngIf="form.get('login')['errors']['loginExist']">Логин занят</span>
            </span>

          </div>

          <div class="form-group has-error"
            [ngClass]="{'has-error': form.get('name').invalid && form.get('name').touched}">
            <label for="name">Имя</label>
            <input type="text" class="form-control underlined" id="name" placeholder="Введите имя"
              formControlName="name">

            <span class="form-help-text" *ngIf="form.get('name').invalid && form.get('name').touched">
              <span *ngIf="form.get('name')['errors']['required']">Введите имя</span>
            </span>

          </div>

          <div class="form-group has-error"
            [ngClass]="{'has-error': form.get('password').invalid && form.get('password').touched}">
            <label for="password">Пароль</label>
            <input type="password" class="form-control underlined" id="password" placeholder="Введите пароль"
              formControlName="password">

            <span class="form-help-text" *ngIf="form.get('password').invalid && form.get('password').touched">
              <span *ngIf="form.get('password')['errors']['required']">Введите пароль</span>
            </span>

          </div>

          <div class="form-group has-error"
            [ngClass]="{'has-error': form.get('repassword').invalid && form.get('repassword').touched}">
            <label for="repassword">Повторите пароль</label>
            <input type="password" class="form-control underlined" id="repassword" placeholder="Повторите пароль"
              formControlName="repassword">

            <span class="form-help-text" *ngIf="form.get('repassword').invalid && form.get('repassword').touched">
              <span *ngIf="form.get('repassword')['errors']['required']">Введите пароль</span>
            </span>

          </div>


          <div class="form-group">
            <button type="submit" class="btn btn-block btn-primary" [disabled]="form.invalid">Изменить</button>
          </div>

          <div class="form-group">
            <p class="text-muted text-xs-center">
                <button class="btn btn-block btn-primary" (click)="cancel()">Отмена</button>
            </p>
          </div>
        </form>

      </div>
    </div>
  </div>
</div>